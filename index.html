<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
    <title>MG SPORTS TV</title>
    <style>
        /* جعل الفيديو يمتد ليملأ الشاشة بالكامل بدون خلفية */
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: black;
            width: 100%;
            height: 100%;
        }

        #clappr {
            width: 100vw;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <div id="clappr"></div>

    <script>
        // وظيفة لجلب المتغيرات من عنوان الرابط
        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] === variable) {
                    return decodeURIComponent(pair[1]);
                }
            }
            return null;
        }

        // الحصول على قيمة المتغير 'url' من الرابط
        var streamUrl = getQueryVariable("url");

        // إذا كانت URL موجودة، يتم تشغيل الفيديو، وإلا يتم عرض رسالة خطأ في وحدة التحكم
        if (streamUrl) {
            var player = new Clappr.Player({
                source: streamUrl,
                parentId: "#clappr",
                width: '100%',
                height: '100%',
                autoPlay: true,
                mute: false,
                fullscreenEnabled: true,
                mediacontrol: {seekbar: "#FFFFFF", buttons: "#FFFFFF"},
                playback: {playInline: true}
            });
        } else {
            console.error("رابط البث المباشر غير موجود في URL.");
        }
    </script>
</body>
</html>
